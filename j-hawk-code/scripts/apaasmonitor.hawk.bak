struct HttpHeader 
{
  var header1 []   =  new var [] 
}

struct BasicAuth 
{
  var auth []   =  new var [] 
}

struct HttpRequest
{
 
 var targetURL = "http://reqres.in/api/users?page=2"
 var method = "GET"

 
}
struct GetMetrics
{
  var dump = "1"
  HttpRequest httpRequest
  HttpHeader httpHeader


  var rest = "1"
}


function main()
{
  exec testMetrics()

}

function testMetrics()
{
   //exec HttpModule->setKeyStore("otd-cert.pem","keystore123")

   HttpHeader httpHeader
   httpHeader->header1[1] = "X-ID-TENANT-NAME"
   httpHeader->header1[2] = "apaasuser"

   BasicAuth basicAuth
   basicAuth->auth[1] = "weblogic"
   basicAuth->auth[2] = "welcome1"
   
   GetMetrics getMetrics
   HttpRequest httpRequest

   getMetrics->httpRequest = httpRequest
   //getMetrics->httpHeader = httpHeader
   //getMetrics->auth = basicAuth 
 
   var httpResponse = `exec HttpModule->execute(getMetrics)`
 
  

   //echo  getMetrics->out
   varx json = getMetrics->out
   echo json
	

}

